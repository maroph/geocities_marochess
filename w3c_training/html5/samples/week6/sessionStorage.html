<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Session Storage Samplet</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="generator" content="PhpStorm 6.0.1"/>
    <meta name="author" content="Manfred Rosenboom"/>
    <meta name="description" content=""/>
    <meta name="keywords" content=""/>
    <meta name="robots" content="all"/>
    <link rel="stylesheet" href="../../style.css"/>
    <style>
        textarea {
            border: 1px solid black;
            margin: 10px auto;
            height: 200px;
            width:  80%;
        }
    </style>
</head>

<body>
    <header>
    <h1>Session Storage Sample</h1>
</header>
<main>

<section>
    <article>
        <h1>Prefilled form using session storage</h1>
        <p>
            This forms will store the content of the input field as you type using an onchangeJavaScript event.
            If you reload this page any time, or press by mistake the Backspace key, and come back to this page,
            you will find the form in the exact state you left it.
        </p>
        <p>
            <label for="note">Note</label><br/>
            <textarea id="note"></textarea>
        </p>
    </article>
</section>

</main>
<footer>
    <p>
        Validate <a href="http://validator.w3.org/check/referer" target="_blank">HTML</a> , Validate <a
            href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">CSS</a><br/>
        Last updated:
        <time datetime="2013-04-120T18:44:00+0200">Sat, 20 Apr 2013 18:44:00 CEST</time>
        <br/>
        <a href="../../copyright.html">Copyright</a> Manfred Rosenboom
    </p>
</footer>
<script>
var nodeNote = document.getElementById('note');

function storeNote() {
    sessionStorage.note = nodeNote.value;
}

if (typeof sessionStorage !== 'undefined') {
    nodeNote.addEventListener('change', storeNote, false);

    if ('note' in sessionStorage) {
        alert("Note restored from sessionStorage");
        nodeNote.value = sessionStorage.note;
    }
} else {
    alert("sessionStorage is not supported by your browser");
}

//window.onbeforeunload = function(){ return "Really change page?";}
</script>
</body>
</html>
