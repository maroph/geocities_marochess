<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/>
  <title>Canvas:Show Mouse Position</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="generator" content="PhpStorm 6.0"/>
  <meta name="author" content="Manfred Rosenboom"/>
  <meta name="description" content=""/>
  <meta name="keywords" content="HTML5"/>
  <meta name="robots" content="all"/>
  <link rel="stylesheet" href="../../style.css" media="all"/>
</head>
<body>
    <header>
      <h1>Canvas: Show Mouse Position</h1>
    </header>
    <main>

    <section>
      <p>
          <canvas id="canvas" width="600" height="400" style="border: 1px solid black; cursor: crosshair;">
      </p>
      <p>
        This example is based on the following code: <a href="http://jsbin.com/opuhiy/2/edit">http://jsbin.com/opuhiy/2/edit</a>
      </p>
    </section>

    </main>
    <footer>
      <p>
        <span class="noprint nomobile">Validate <a href="http://validator.w3.org/check/referer" target="_blank">HTML</a> , Validate <a href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">CSS</a><br/></span>
        Last updated: <time datetime="2013-03-31T11:41:00+0200">Sun, 31 Mar 2013 11:41:00 CEST</time><br/>
        <a href="../../copyright.html" rel="copyright">Copyright</a> Manfred Rosenboom
      </p>
    </footer>
<script>
        function writeMessage(canvas, message) {
            var context = canvas.getContext('2d');
            context.clearRect(0, 0, canvas.width, canvas.height);
            context.font = '18pt Calibri';
            context.fillStyle = 'black';
            context.fillText(message, 10, 25);
        }

        function getMousePos(canvas, evt) {
            // return relative mouse position
            var mouseX = evt.clientX - canvas.offsetLeft;
            var mouseY = evt.clientY - canvas.offsetTop;
            return {
                x:mouseX,
                y:mouseY
            };
        }

        function initCanvas() {
            var canvas = document.getElementById('canvas');
            var context = canvas.getContext('2d');
            writeMessage(canvas, 'Mouse position: ');

            canvas.addEventListener('mousemove', function (evt) {
                var mousePos = getMousePos(canvas, evt);
                var message = "Mouse position: " + mousePos.x + "," + mousePos.y;
                writeMessage(canvas, message);


            }, false);
        };

        window.addEventListener("load", initCanvas, false);
</script>
</body>
</html>
