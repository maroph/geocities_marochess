<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Form Validation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="generator" content="PhpStorm 6.0"/>
    <meta name="author" content="Manfred Rosenboom"/>
    <meta name="description" content=""/>
    <meta name="keywords" content=""/>
    <meta name="robots" content="all"/>
    <link rel="stylesheet" href="../../style.css"/>
    <style>
        input:valid    { background-color: lightGreen; }
        input:invalid  { background-color: lightpink; }
        input:required { border: 2px solid red; }
        #submit { background-color: #e0e0e0; }
        </style>
</head>

<body>
<header>
    <h1>Form Validation</h1>
</header>
<main>

    <section>
        <article>
        <h1>Heading</h1>
        <h2>Some infos about me</h2>
        <p>
        <label for="inputID">Enter a value between 10 and 20 </label>
        <form onsubmit="return false;">
            <input type="number" name="number" id="inputID"
                   min="10"
                   max="20"
                   step="1"
                   placeholder="10"
                   required="required"
                   oninvalid='validate(this)'
                   oninput='clearCustomValidity(this)'
                    />
            <input type="submit" id="submit"/>
        </form>
        </p>
        </article>

        <article>
        <a href="http://jsfiddle.net/girlie_mac/te3Qd/">http://jsfiddle.net/girlie_mac/te3Qd/</a>
        </article>
    </section>

</main>
<footer>
    <p>
        Validate <a href="http://validator.w3.org/check/referer" target="_blank">HTML</a> , Validate <a
            href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">CSS</a><br/>
        Last updated:
        <time datetime="2013-04-08T18:27:00+0200">Mon, 8 Apr 2013 18:27:00 CEST</time>
        <br/>
        <a href="../../copyright.html">Copyright</a> Manfred Rosenboom
    </p>
</footer>
<script>
    function validate(inp) {
        if (!inp) {
            alert('validate; inp == null')
            return;
        }
        if (!inp.validity) {
            alert('validate: inp.validity == null')
        }

        var validityState = inp.validity;
        if (!validityState) {
            alert('validate: inp.validity == null');
            return;
        }

        if (validityState.badInput) {
            inp.setCustomValidity('Bad input');
        } else if (validityState.typeMismatch) {
            inp.setCustomValidity('Type mismatch');
        } else if (validityState.valueMissing) {
            inp.setCustomValidity('Please enter a value (required)');
        } else if (validityState.rangeUnderflow) {
            inp.setCustomValidity('Your value is too low');
        } else if (validityState.rangeOverflow) {
            inp.setCustomValidity('Your value is too high');
        } else if (validityState.tooLong) {
            inp.setCustomValidity('Too long');
        } else if (validityState.stepMismatch) {
            inp.setCustomValidity('stepMismatch');
        } else if (validityState.patternMismatch) {
            inp.setCustomValidity('patternMismatch');
        } else if (validityState.customError) {
            inp.setCustomValidity('customError');
        } else {
            inp.setCustomValidity('Unexpected validation error');
        }
    }

    function clearCustomValidity(inp) {
        if (!inp) {
            return;
        }

        inp.setCustomValidity('');
    }
</script>
</body>
</html>
