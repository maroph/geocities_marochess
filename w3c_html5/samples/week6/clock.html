<!DOCTYPE html>
<html lang="en" manifest="clock.appcache">
<head>
    <meta charset="utf-8"/>
    <title>Clock</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="generator" content="PhpStorm 6.0"/>
    <meta name="author" content="Manfred Rosenboom"/>
    <meta name="description" content=""/>
    <meta name="keywords" content=""/>
    <meta name="robots" content="all"/>
    <link rel="stylesheet" href="../../style.css"/>
    <link rel="stylesheet" href="./clock.css"/>
    <style>
    </style>
    <script src="./clock.js"></script>
</head>

<body>
<header>
    <h1>Clock</h1>
</header>
<main>

    <section>
        <article>
            <p>The current time is: <output id="clock"></output></p>
        </article>
    </section>

</main>
<footer>
    <p>
        Validate <a href="http://validator.w3.org/check/referer" target="_blank">HTML</a> , Validate <a
            href="http://jigsaw.w3.org/css-validator/check/referer" target="_blank">CSS</a><br/>
        Last updated:
        <time datetime="2013-03-23T10:48:00+0100">Sat, 23 Mar 2013 10:48:00 CET</time>
        <br/>
        <a href="./copyright.html">Copyright</a> Manfred Rosenboom
    </p>
</footer>
<script>
    // Check if a new cache is available on page load.

    window.addEventListener('load', function(e) {

        window.applicationCache.addEventListener('updateready', function(e) {
            if (window.applicationCache.status == window.applicationCache.UPDATEREADY) {
                // Browser downloaded a new app cache.
                // Swap it in and reload the page to get the new hotness.
                window.applicationCache.swapCache();
                if (confirm('A new version of this site is available. Load it?')) {
                    window.location.reload();
                }
            } else {
                // Manifest didn't changed. Nothing new to server.
            }
        }, false);

    }, false);
</script>
</body>
</html>
